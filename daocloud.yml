version: "2.0"

test:
    image: maven:3.2.3-jdk-8

    services:
        - mysql
    env:

    install:
     
    before_script:	
        - echo "Setup"

    script:
		    - mysql -u root -h mysql -e 'create database if not exists test'
		    - mysql -u root -h mysql databaseName < test.sql
        - mvn install -q -DskipTests=true
        - mvn test

build:
  image:
    dockerfile_path: /Dockerfile
    build_dir: /
    cache: true